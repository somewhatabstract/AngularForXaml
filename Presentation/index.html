<!doctype html>
<html ng-app="codemash2014" lang="en">
<head>
    <meta charset="utf-8">
    <title>Windows to Web - AngularJS for XAML developers</title>
    <meta name="description" content="AngularJS for XAML developers">
    <meta name="author" content="Jeff Yates">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="css/reveal.min.css" />
    <link rel="stylesheet" href="css/theme/codemash.css" id="theme" />
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/vs.css" />
    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write('<link rel="stylesheet" href="css/print/' + (window.location.search.match(/print-pdf/gi) ? 'pdf' : 'paper') + '.css" type="text/css" media="print">');
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="css/codemash.css" />
</head>
<body>
    <div class="reveal">
        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section>
                <section>
                    <h1>Windows to Web</h1>
                    <h3>AngularJS for XAML developers</h3>
                    <div>
                        <a href="http://blog.somewhatabstract.com">Jeff Yates</a> / <a href="http://blog.somewhatabstract.com">blog.somewhatabstract.com</a> / <a href="http://twitter.com/jefftunes">@jefftunes</a>
                    </div>
                    <p>
                        <a href="http://www.careevolution.com"><img width="30%" src='assets/careevlogo.jpg' /></a>
                    </p>
                    <aside class="notes">
                        <ul>
                            <li>Introduce myself</li>
                            <li>Mention who I work for and what I do</li>
                            <li>Explain talk</li>
                            <li>Ask who is familiar with Silverlight or Angular</li>
                        </ul>
                    </aside>
                </section>
                <section>
                    <div>
                        <div style="width:100%;background-color:sandybrown"><p>12 years</p></div>
                        <div class='fragment roll-in' style='float: left; width: 92%; background-color: #4B95FF; margin-right: 1%'><p style='padding: 2em 0 2em 0; -webkit-transform: rotate(-90deg); '>Windows</p></div>
                        <div class='fragment roll-in' style='float: right; width: 7%; background-color: #72E185; '><p style='padding: 2em 0 2em 0; -webkit-transform: rotate(-90deg); '>Web</p></div>
                    </div>
                    <aside class="notes">
                        <ul>
                            <li>Explain my background in context this talk</li>
                            <li>Worked in motorsport 5 years (C++, COM, ATL, WTL)</li>
                            <li>Worked in engine diagnostic tools 5/6 years (C#, .NET, WinForms)</li>
                            <li>Side projects; timesheet entry using Silverlight to end-of-line testers and diagnostic tools using WPF</li>
                            <li>CMMI process improvement, team lead, etc.</li>
                            <li>Most recently, Health Information Exchange (C#,ASP.NET MVC, WebForms, AngularJS, jQuery, JavaScript, HTML, CSS)</li>
                            <li>12 years windows, then changed to web development</li>
                            <li>--Next slide for line--</li>
                        </ul>
                    </aside>
                </section>
                <section>
                    <img src='assets/rv-f1.jpg' style="width:100%" />
                    <aside class="notes">
                        <ul>
                            <li>Felt like the RV in this picture.</li>
                            <li>Similar baggage, just not tuned for the job.</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section>
                    <img src="assets/silverlight-logo.png" class="noborder" style="min-width: 100%;" />
                    <aside class="notes">
                        <ul>
                            <li>Knew a little client-side web development;  mostly Silverlight and a little JS/HTML/CSS</li>
                            <li>Silverlight is .NET runtime plugin</li>
                            <li>Plug-in cross platform (PC and Mac), in and out of web browsers</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <img src="assets/angularjs.jpeg" class="noborder" style="min-width: 100%;" />
                    <aside class="notes">
                        <ul>
                            <li>New job used AngularJS for client-side</li>
                            <li>development framework from Google</li>
                            <li>Javascript/HTML/CSS</li>
                            <li>I knew value converters, controls and resources; not filters, directives and CSS</li>
                            <li>(transition as saying): I knew the concepts but we were talking different languages.</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <img src="assets/languagebarrier.png" style="min-height:100%" />
                    <aside class="notes">
                        <ul>
                            <li>Needed to look for a way to translate between Angular and what I knew</li>
                            <li>Took lots of effort then, but written an app to help today</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/Application.jpg">
                    <h1>Application</h1>
                    <aside class="notes">
                        <ul>
                            <li>Every framework has boilerplate to assimilate an application</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Silverlight</h2>
                    <pre><code ng-non-bindable class="silverlight" data-trim contenteditable>
&lt;Application xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
         xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot; 
         x:Class=&quot;HelloWorld.App&quot;&gt;
&lt;/Application&gt;
</code></pre>
                    <pre><code ng-non-bindable class="silverlight cs" data-trim contenteditable>
namespace HelloWorld
{
  public partial class App : System.Windows.Application
  {
    public App()
    {
      this.Startup +=
        (sender, e) => this.RootVisual = new TextBlock() { FontSize = 24, Text = "Hello World" };
      InitializeComponent();
    }
  }
}
</code></pre>
                    <pre><code ng-non-bindable class="silverlight" data-trim contenteditable>
&lt;object data=&quot;data:application/x-silverlight-2,&quot; width=&quot;100%&quot; type=&quot;application/x-silverlight-2&quot;&gt;
    &lt;param name=&quot;source&quot; value=&quot;Bin/Debug/HelloWorld.xap&quot;/&gt;
&lt;/object&gt;
</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Bare minimum</li>
                            <li>Application declaration</li>
                            <li>Code-behind</li>
                            <li>HTML to embed plugin (in-browser)</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Angular</h2>
                    <pre><code ng-non-bindable class="angular" data-trim contenteditable>
&lt;html ng-app&gt;
    &lt;head&gt;
        &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js&quot;&gt;&lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        Hello World
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>ng-app declaration</li>
                            <li>Since HTML, not required just for Hello World (neither is Silverlight)</li>
                            <li>Contents of ng-app element are RootVisual</li>
                            <li>Scipts in head element are DLL references</li>
                            <li>CSS is like resources</li>
                            <li>Before we continue, it will be easier to discuss concepts with an example</li>
                            <li>DEMO: SHOW SILVERLIGHT APP</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <object class="silverlight" data="data:application/x-silverlight-2," height="480px" width="90%" type="application/x-silverlight-2">
                        <param name="source" value="assets/ShakespeareanInsultGenerator.xap" />
                    </object>
                </section>

                <section>
                    <pre ng-non-bindable><code class="silverlight" data-trim contenteditable>
&lt;UserControl x:Class=&quot;ShakespeareanInsultGenerator.MainPage&quot;
    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
    xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;
    xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;
    xmlns:local=&quot;clr-namespace:ShakespeareanInsultGenerator&quot;
    mc:Ignorable=&quot;d&quot;
    FontSize=&quot;36&quot;
    FontFamily=&quot;Arial&quot;
    d:DesignHeight=&quot;150&quot; d:DesignWidth=&quot;400&quot;&gt;

    &lt;UserControl.Resources&gt;
        &lt;Style TargetType=&quot;TextBlock&quot;&gt;
            &lt;Setter Property=&quot;Foreground&quot; Value=&quot;#EEEEEE&quot; /&gt;
            &lt;Setter Property=&quot;VerticalAlignment&quot; Value=&quot;Center&quot;/&gt;
            &lt;Setter Property=&quot;TextAlignment&quot; Value=&quot;Right&quot; /&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot; /&gt;
            &lt;Setter Property=&quot;FontFamily&quot; Value=&quot;Lato&quot;/&gt;
            &lt;Setter Property=&quot;FontStyle&quot; Value=&quot;Italic&quot; /&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;ComboBox&quot;&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;Button&quot;&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
            &lt;Setter Property=&quot;VerticalAlignment&quot; Value=&quot;Top&quot;/&gt;
            &lt;Setter Property=&quot;FontWeight&quot; Value=&quot;Bold&quot;/&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;RichTextBox&quot;&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
            &lt;Setter Property=&quot;IsReadOnly&quot; Value=&quot;True&quot;/&gt;
            &lt;Setter Property=&quot;TextAlignment&quot; Value=&quot;Left&quot;/&gt;
            &lt;Setter Property=&quot;FontWeight&quot; Value=&quot;Bold&quot;/&gt;
            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;54&quot;/&gt;
            &lt;Setter Property=&quot;FontFamily&quot; Value=&quot;Courier New&quot; /&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;TextBlock&quot; x:Key=&quot;HeaderStyle&quot;&gt;
            &lt;Setter Property=&quot;Foreground&quot; Value=&quot;#EEEEEE&quot; /&gt;
            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;60&quot;/&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
            &lt;Setter Property=&quot;FontFamily&quot; Value=&quot;Impact&quot;/&gt;
            &lt;Setter Property=&quot;TextAlignment&quot; Value=&quot;Center&quot;/&gt;
        &lt;/Style&gt;

        &lt;local:InsultModel x:Key=&quot;Model&quot; /&gt;
    &lt;/UserControl.Resources&gt;

    &lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;#203030&quot; DataContext=&quot;{Binding Source={StaticResource Model}}&quot;&gt;
        &lt;Grid.ColumnDefinitions&gt;
            &lt;ColumnDefinition Width=&quot;Auto&quot; /&gt;
            &lt;ColumnDefinition /&gt;
        &lt;/Grid.ColumnDefinitions&gt;

        &lt;Grid.RowDefinitions&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition /&gt;
        &lt;/Grid.RowDefinitions&gt;

        &lt;TextBlock Style=&quot;{StaticResource HeaderStyle}&quot; Grid.Column=&quot;0&quot; Grid.ColumnSpan=&quot;2&quot; Grid.Row=&quot;0&quot;&gt;SHAKESPEAREAN INSULT GENERATOR&lt;/TextBlock&gt;

        &lt;TextBlock Text=&quot;Adjective 1:&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;1&quot; /&gt;
        &lt;ComboBox Grid.Column=&quot;1&quot; Grid.Row=&quot;1&quot; ItemsSource=&quot;{Binding FirstAdjectiveList}&quot; SelectedValue=&quot;{Binding FirstAdjective, Mode=TwoWay}&quot; /&gt;

        &lt;TextBlock Text=&quot;Adjective 2:&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;2&quot; /&gt;
        &lt;ComboBox Grid.Column=&quot;1&quot; Grid.Row=&quot;2&quot; ItemsSource=&quot;{Binding SecondAdjectiveList}&quot; SelectedValue=&quot;{Binding SecondAdjective, Mode=TwoWay}&quot; /&gt;

        &lt;TextBlock Text=&quot;Noun:&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;3&quot; /&gt;
        &lt;ComboBox Grid.Column=&quot;1&quot; Grid.Row=&quot;3&quot; ItemsSource=&quot;{Binding NounList}&quot; SelectedValue=&quot;{Binding Noun, Mode=TwoWay}&quot; /&gt;

        &lt;Button Grid.Column=&quot;0&quot; Grid.Row=&quot;4&quot; Content=&quot;Randomize&quot; Click=&quot;OnClickRandomize&quot; /&gt;
        &lt;RichTextBox  Grid.Column=&quot;1&quot; Grid.Row=&quot;4&quot;&gt;
            &lt;RichTextBox.Blocks&gt;
                &lt;Paragraph&gt;
                    &lt;Span&gt;
                        &lt;Run Text=&quot;Thou&quot; /&gt;
                        &lt;Run Text=&quot;{Binding FirstAdjective}&quot; /&gt;
                        &lt;Run Text=&quot;{Binding SecondAdjective}&quot; /&gt;
                        &lt;Run Text=&quot;{Binding Noun, StringFormat=&#39;{0}!&#39;}&quot; /&gt;
                    &lt;/Span&gt;
                &lt;/Paragraph&gt;
            &lt;/RichTextBox.Blocks&gt;
        &lt;/RichTextBox&gt;
    &lt;/Grid&gt;
&lt;/UserControl&gt;

</code></pre>
                </section>

                <section>
                    <pre ng-non-bindable><code class="silverlight cs" data-trim contenteditable>
public partial class MainPage : UserControl
{
    public MainPage()
    {
        InitializeComponent();
    }
    private void OnClickRandomize( object sender, RoutedEventArgs e )
    {
        ((InsultModel)Resources[&quot;Model&quot;]).Randomize();
    }
}
</code></pre>
                </section>

                <section>
                    <pre ng-non-bindable><code class="silverlight cs" data-trim contenteditable>
public class InsultModel : INotifyPropertyChanged
{
    public InsultModel()
    {
        _firstAdjectiveList = Words.Adjectives.ToList().AsReadOnly();
        _secondAdjectiveList = Words.HyphenatedAdjectives.ToList().AsReadOnly();
        _nounList = Words.Nouns.ToList().AsReadOnly();
        Randomize();
    }
    public void Randomize()
    {
        FirstAdjective = _firstAdjectiveList.Random();
        SecondAdjective = _secondAdjectiveList.Random();
        Noun = _nounList.Random();
    }
    public string FirstAdjective
    {
        get { return _firstAdjective; }
        set
        {
            if ( _firstAdjective != value )
            {
                _firstAdjective = value;
                OnPropertyChanged( &quot;FirstAdjective&quot; );
            }
        }
    }
    public string SecondAdjective
    {
        get { return _secondAdjective; }
        set
        {
            if ( _secondAdjective != value )
            {
                _secondAdjective = value;
                OnPropertyChanged( &quot;SecondAdjective&quot; );
            }
        }
    }
    
    public string Noun
    {
        get { return _noun; }
        set
        {
            if ( _noun != value )
            {
                _noun = value;
                OnPropertyChanged( &quot;Noun&quot; );
            }
        }
    }
    public IEnumerable&lt;string&gt; FirstAdjectiveList { get { return _firstAdjectiveList; } }
    public IEnumerable&lt;string&gt; SecondAdjectiveList { get { return _secondAdjectiveList; } }
    public IEnumerable&lt;string&gt; NounList { get { return _nounList; } }
    public event PropertyChangedEventHandler PropertyChanged;
    protected virtual void OnPropertyChanged( string propertyName )
    {
        PropertyChangedEventHandler handler = PropertyChanged;
        if ( handler != null ) { handler( this, new PropertyChangedEventArgs( propertyName ) ); }
    }
    private string _firstAdjective;
    private string _secondAdjective;
    private string _noun;
    private readonly IEnumerable&lt;string&gt; _firstAdjectiveList;
    private readonly IEnumerable&lt;string&gt; _secondAdjectiveList;
    private readonly IEnumerable&lt;string&gt; _nounList;
}
</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Not every concept we cover is used in app</li>
                            <li>But everything we cover is useful to know</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/DataBinding.jpg">
                    <h1>Data Binding</h1>
                    <aside ng-non-bindable class="notes">
                        <ul>
                            <li>Binding to data is a basic element</li>
                            <li>Our app uses it to drive insult selection and display</li>
                            <li>Silverlight has syntactical support</li>
                            <li>Angular has syntactical support</li>
                            <li>Let's look at an example</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <div ng-controller="bindingDemoCtrl">
                        <input ng-model="textStuff" />
                        <div style="color: #101010">Hello {{textStuff}}</div>
                        <input class="fragment" data-fragment-index="2" ng-model="textStuff" />
                    </div>
                    <pre class="fragment" data-fragment-index="0"><code class='silverlight' contenteditable ng-non-bindable>&lt;StackPanel x:Name=&quot;LayoutRoot&quot;&gt;
  &lt;TextBox x:Name=&quot;textStuff&quot; /&gt;
  &lt;TextBlock Text=&quot;{Binding ElementName=textStuff, Path=Text, StringFormat='Hello {0}'}&quot; /&gt;
&lt;/StackPanel&gt;</code></pre>
                    <pre class="fragment" data-fragment-index="1"><code class='angular' ng-non-bindable contenteditable>&lt;div ng-app&gt;
  &lt;input ng-model=&quot;textStuff&quot; /&gt;
  &lt;div&gt;Hello {{textStuff}}&lt;/div&gt;
&lt;/div&gt;</code></pre>

                    <aside ng-non-bindable class="notes">
                        <ul>
                            <li>Simple example</li>
                            <li>FRAGMENT: Familiar to anyone doing XAML</li>
                            <li>FRAGMENT: Shows angular fragment</li>
                            <li>Angular version very similar</li>
                            <li>ng-model indicates what textbox is bound to</li>
                            <li>ng-model is two-way binding</li>
                            <li>Moustaches evaluate binding value to string for display</li>
                            <li>TODO: Copy textbox line under display line</li>
                            <li>FRAGMENT: Additional textbox shows up</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class='silverlight' contenteditable>&lt;StackPanel x:Name=&quot;LayoutRoot&quot;&gt;
  &lt;TextBox x:Name=&quot;textStuff&quot; /&gt;
  &lt;TextBlock Text=&quot;{Binding ElementName=textStuff, Path=Text, StringFormat='Hello {0}'}&quot; /&gt;
  &lt;TextBox Text=&quot;{Binding ElementName=textStuff, Path=Text}&quot; /&gt;
&lt;/StackPanel&gt;</code></pre>
                    <pre><code class='angular' ng-non-bindable contenteditable>&lt;div ng-app&gt;
  &lt;input ng-model=&quot;textStuff&quot; /&gt;
  &lt;div&gt;Hello {{textStuff}}&lt;/div&gt;
  &lt;input ng-model=&quot;textStuff&quot; /&gt;
&lt;/div&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Compare Silverlight and Angular</li>
                            <li>Silverlight is binding to a master textbox</li>
                            <li>Angular has an implied backend value</li>
                            <li>Normally, need model in Silverlight using back-end code</li>
                            <li>INotifyPropertyChanged to track model changes</li>
                            <li>Angular has similar concepts, in fact, used for "World" default value</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/CodeBehind.jpg">
                    <h1>Code-behind</h1>
                </section>

                <section>
                    <div>
                        <pre><code class='silverlight' ng-non-bindable contenteditable>&lt;UserControl x:Class="HelloWorld.MainPage"&gt;
    xmlns:local="clr-namespace:HelloWorld"
...
              </code></pre>
                        <pre class="fragment"><code class='angular' ng-non-bindable contenteditable>&lt;div ng-app='myApp' ng-controller='myController'&gt;
  ...</code></pre>
                    </div>

                    <aside class="notes">
                        <ul>
                            <li>object element indicates XAP file with silverlight app</li>
                            <li>x:Class attribute indicates code-behind for a control</li>
                            <li>Namespace declarations in XAML import other code-behind elements</li>
                            <li>FRAGMENT: Here is an angular equivalent</li>
                            <li>ng-app indicates the angular module that contains the code (like namespace)</li>
                            <li>ng-controller directive indicates code for this element in the application (like class)</li>
                            <li>Additional modules can be loaded into the app in code-behind</li>
                            <li>Multiple controllers per app, one ng-app declaration</li>
                            <li>Can have multiple apps per page, but advanced topic for another time</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class='silverlight' ng-non-bindable contenteditable>namespace HelloWorld
{
  public partial class MainPage : UserControl
  {
    ...
              </code></pre>
                    <pre class="fragment"><code class="javascript angular" contenteditable ng-non-bindable>var myApp = angular.module('myApp', []);
myApp.controller('myController', function ($scope) {
  ...
</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Silverlight code-behind uses namespace and class</li>
                            <li>FRAGMENT: .module creates a module with the app name</li>
                            <li>[] brackets can be used to import additional modules (type example to demonstrate 'awesomeThings','stuff')</li>
                            <li>.controller creates a controller within a module for use with ngController directive</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class='angular' ng-non-bindable contenteditable>&lt;div ng-app='myApp' ng-controller='myController'&gt;
  &lt;input ng-model=&quot;textStuff&quot; /&gt;
  &lt;div&gt;Hello {{textStuff}}&lt;/div&gt;
  &lt;input ng-model=&quot;textStuff&quot; /&gt;
&lt;/div&gt;</code></pre>
                    <pre class="fragment"><code class="javascript angular" ng-non-bindable contenteditable>var myApp = angular.module(&#39;myApp&#39;, []);
myApp.controller(&#39;myController&#39;, function ($scope) {
  $scope.textStuff = &#39;World&#39;;
});</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Returning to previous example</li>
                            <li>Add controller to our app</li>
                            <li>FRAGMENT: Create controller and default our model value</li>
                            <li>Things can be injected into the controller</li>
                            <li>$scope is injected into our controller here</li>
                            <li>$scope is root of our view model</li>
                            <li>Properties off $scope are available for binding</li>
                            <li>Of course, more to binding than single values and defaults</li>
                            <li>What if we need to project the value before display?</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/ValueConverters.jpg">
                    <h1>Value Converters</h1>

                    <aside class="notes">
                        <ul>
                            <li>Our demo app doesn't actually need these, but they're important for work outside of period-specific insult generators</li>
                            <li>In Silverlight, we use ValueConverters to convert a value display</li>
                            <li>Turning a bool into a Visibility, or an enumeration into a text color, for example</li>
                            <li>Angular has several ways to do the same thing</li>
                            <li>Generally, Angular uses filters</li>
                            <li>While there's a built-in set, much like with Silverlight, you'll need to write your own</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <div ng-controller="reverseCtrl">
                        <input ng-model="stringToReverse" />
                        <div>{{stringToReverse | reverse}}</div>
                    </div>

                    <pre class="fragment"><code class='silverlight' contenteditable ng-non-bindable>&lt;StackPanel x:Name=&quot;LayoutRoot&quot;&gt;
  &lt;StackPanel.Resources&gt;
    &lt;myApp:ReverseStringConverter x:Key=&quot;ReverseStringConverter&quot; /&gt;
  &lt;/StackPanel.Resources&gt;
  &lt;TextBox x:Name=&quot;textStuff&quot; /&gt;
  &lt;TextBlock Text=&quot;{Binding ElementName=textStuff, Path=Text, Converter={StaticResource ReverseStringConverter}}&quot; /&gt;
&lt;/StackPanel&gt;</code></pre>
                    <pre class="fragment"><code class='angular' ng-non-bindable contenteditable>&lt;div ng-app&gt;
  &lt;input ng-model=&quot;textStuff&quot; /&gt;
  &lt;div&gt;{{textStuff | reverse}}&lt;/div&gt;
&lt;/div&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Declare an instance of our converter in resources</li>
                            <li>Reference converter in Binding</li>
                            <li>FRAGMENT: Angular similar</li>
                            <li>Filter instance is managed by Angular from code-behind</li>
                            <li>Pipe bound value into filter</li>
                            <li>FRAGMENT: Let's see that working</li>
                            <li>Type "dlroW olleH" and other examples as required</li>
                            <li>Angular can chain filters</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class="cs silverlight" contenteditable ng-non-bindable>public class ReverseStringConverter : IValueConverter
{
  public object Convert( object value, Type targetType, object parameter, CultureInfo culture )
  {
    return new String(value.ToString().Reverse());
  }
  public object ConvertBack( object value, Type targetType, object parameter, CultureInfo culture )
  {
    throw new NotImplementedException();
  }
}</code></pre>
                    <pre class="fragment"><code class="javascript angular" contenteditable>module('myApp').filter('reverse', function() {
  return function (value){
    return value.split("").reverse().join("");
  };
});</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Contrived example to reverse a string</li>
                            <li>ConvertBack not implemented as usual (;) )</li>
                            <li>FRAGMENT: Angular declaration equivalent to Convert method</li>
                            <li>No ConvertBack for a filter - different Angular concept exists for this and used just as much as ConvertBack</li>
                            <li>Let's see how they're used</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <div ng-controller="reverseCtrl">
                        <input ng-model="stringToReverse" />
                        <div>{{stringToReverse | reverse | uppercase}}</div>
                    </div>

                    <pre class="fragment"><code class='angular' ng-non-bindable contenteditable>&lt;div ng-app&gt;
  &lt;input ng-model=&quot;textStuff&quot; /&gt;
  &lt;div&gt;{{textStuff | reverse | uppercase}}&lt;/div&gt;
&lt;/div&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Requires a custom ValueConverter in Silverlight</li>
                            <li>Easy in Angular</li>
                            <li>Here, we pipe reverse value into uppercase filter</li>
                            <li>FRAGMENT: Demo - now you know how to reverse and uppercase a string. Job done</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/DataBindingCollections2.jpg">
                    <h1>Data Binding Collections</h1>
                    <aside class="notes">
                        <ul>
                            <li>Of course, binding values and converting values is great, but what about lists of values?</li>
                            <li>Collection of similar items that need displaying in some way</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class='silverlight' ng-non-bindable contenteditable>&lt;ItemsControl x:Name=&quot;List&quot;&gt;
  &lt;ItemsControl.ItemTemplate&gt;
    &lt;DataTemplate&gt;
      &lt;TextBlock Text=&quot;{Binding}&quot;&gt;&lt;/TextBlock&gt;
    &lt;/DataTemplate&gt;
  &lt;/ItemsControl.ItemTemplate&gt;
&lt;/ItemsControl&gt;</code></pre>
                    <pre class="fragment"><code class='angular' ng-non-bindable data-trim contenteditable>
&lt;p ng-repeat=&quot;name in names&quot;&gt;{{name}}&lt;/p&gt;
</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>ItemsControls are used to display a collection of items</li>
                            <li>Here we have a simple template for each item</li>
                            <li>FRAGMENT: In Angular, we use the ngRepeat directive</li>
                            <li>The element marked by ng-repeat is the item template</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class="cs silverlight" ng-non-bindable contenteditable>List.ItemsSource = new[] { "Leprechaun", "Unicorn", "Bacon" }</code></pre>
                    <pre class="fragment"><code ng-non-bindable class="javascript angular" contenteditable>$scope.names = [ 'Leprechaun', 'Unicorn', 'Bacon'];</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>To use, we would set ItemsSource using XAML binding or code-behind</li>
                            <li>FRAGMENT: Angular, we use the code-behind to set a collection on the scope</li>
                            <li>What if we want to sort our items or filter them in some way</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Sorting and filtering</h2>
                    <div ng-controller="collectionBindingCtrl">
                        <input ng-model="criteria" />
                        <p ng-repeat="name in names | filter:criteria | orderBy:'-toString()'">{{name}}</p>
                    </div>
                    
                    <aside class="notes">
                        <ul>
                            <li>A list of items might need sorting or filtering by some criteria</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class="cs silverlight" ng-non-bindable contenteditable>var collectionView = new CollectionViewSource();
collectionView.Source = new[] { &quot;Leprechaun&quot;, &quot;Unicorn&quot;, &quot;Bacon&quot; };
collectionView.View.SortDescriptions.Add(
  new SortDescription { Direction = ListSortDirection.Descending } );
collectionView.View.Filter =
  o =&gt; String.IsNullOrEmpty( CriteriaTextBox.Text )
      || ( (string)o ).Contains( CriteriaTextBox.Text );
    
List.ItemsSource = collectionView.View;
CriteriaTextBox.TextChanged +=
  (sender, args) => ((ICollectionView)List.ItemsSource).Refresh();</code></pre>
                    <pre class="fragment"><code class='angular' ng-non-bindable contenteditable>&lt;div ng-controller=&quot;myController&quot;&gt;
  &lt;input ng-model=&quot;criteria&quot;/&gt;
  &lt;p ng-repeat=&quot;name in names | filter:criteria | orderBy:&#39;-toString()&#39;&quot;&gt;{{name}}&lt;/p&gt;
&lt;/div&gt;</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Silveright does this using a CollectionView from a CollectionViewSource</li>
                            <li>Here we are sorting in descending order</li>
                            <li>Adding filter handler to filter items by a value in a textbox</li>
                            <li>TextChanged on textbox causes the collection view to be updated (reapplying the filter criteria)</li>
                            <li>XAML not shown for simplicity</li>
                            <li>FRAGMENT: Angular declares all this work in the presentation</li>
                            <li>Input bound to our criteria</li>
                            <li>Collection items filtered using filters</li>
                            <li>Two kinds of filters; value converter type (saw earlier) and LINQ type (shown here)</li>
                            <li>Filters can take parameters (see criteria or orderBy)</li>
                            <li>
                                Built-in filters:
                                <ul>
                                    <li>LINQ: limitTo, filter, orderBy</li>
                                    <li>ValueConverter: date,currency,uppercase,lowercase,json,number</li>
                                </ul>
                            </li>
                            <li>Now our example is way more exciting - DEMO</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>ComboBox</h2>
                    <div ng-controller="collectionBindingCtrl">
                        <input ng-model="criteria" />
                        <select ng-model="selectedItem" ng-options="name for name in names | filter:criteria | orderBy:'-toString()'"></select>
                    </div>

                    <pre class="fragment"><code class="silverlight" contenteditable ng-non-bindable>&lt;ComboBox ItemsSource=&quot;{Binding Words}&quot; SelectedValue=&quot;{Binding SelectedWord, Mode=TwoWay}&quot; /&gt;</code></pre>
                    <pre class="fragment"><code class="angular" contenteditable ng-non-bindable>&lt;select ng-options=&quot;word for word in words&quot; ng-model=&quot;selectedWord&quot;&gt;&lt;/select&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>FRAGMENT: Silverlight for a combo without filtering/sorting</li>
                            <li>Demo app uses comboboxes</li>
                            <li>In Silveright, ComboBox is an ItemsControl</li>
                            <li>Might look a bit like this (it doesn't, but it might)</li>
                            <li>A more complex binding might use DisplayMemberPath and SelectedValuePath</li>
                            

                            <li>FRAGMENT: Angular has special case for combos, using the HTML select element and ngOptions directive</li>
                            <li>ngModel indicates how selected item is bound</li>
                            <li>ngOptions indicates where display value and value come from in collection of items</li>
                            <li>The first part is the DisplayMemberPath equivalent</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/Style.jpg">
                    <h1>Style</h1>

                    <aside class="notes">
                        <ul>
                            <li>We can show data and manipulate data</li>
                            <li>What about controlling appearance?</li>
                            <li>In Silverlight we can use Style resources and bindings</li>
                            <li>Angular we use CSS</li>
                            <li>For dynamic style changes, we have to be a little more resourceful</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <div ng-controller="presentationBindingCtrl">
                        <input type="checkbox" ng-model="isShowingSurprise" name="showSurpriseCheck" />
                        <label for="showSurpriseCheck">Show</label>
                        <div ng-show="isShowingSurprise">SURPRISE!</div>
                        <div class="fragment" data-fragment-index="2" ng-hide="isShowingSurprise">No surprise :(</div>
                    </div>

                    <pre class="fragment" data-fragment-index="0"><code class='silverlight' contenteditable>&lt;StackPanel x:Name=&quot;LayoutRoot&quot; Background=&quot;White&quot;&gt;
  &lt;CheckBox
    IsChecked=&quot;{Binding IsSurprise, Mode=TwoWay}&quot;&gt;Show&lt;/CheckBox&gt;
  &lt;TextBlock Text=&quot;SURPRISE!&quot;
    Visibility=&quot;{Binding IsSurprise, Converter={StaticResource VisibilityConverter}}&quot; /&gt;
&lt;/StackPanel&gt;</code></pre>

                    <pre class="fragment" data-fragment-index="1"><code class='angular' contenteditable ng-non-bindable>&lt;div&gt;
  &lt;input type=&quot;checkbox&quot; ng-model=&quot;isShowingSurprise&quot; /&gt;
  &lt;div ng-show=&quot;isShowingSurprise&quot;&gt;SURPRISE!&lt;/div&gt;
&lt;/div&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>DEMO</li>
                            <li>FRAGMENT: Silverlight, use a ValueConverter to change visibility</li>
                            <li>FRAGMENT: In Angular, we use ng-show to bind to a condition</li>
                            <li>Can use ng-hide for opposite situation</li>
                            <li>Add ng-hide with "No surprise :("</li>
                            <li>FRAGMENT: DEMO</li>
                            <li>Note: ng-if also available. Similar to Visibility.Collapsed in WPF, but actually doesn't insert HTML into DOM</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <div ng-init="britishness='notBritish'">
                        <div>
                            <input type="radio" value="notBritish" ng-model="britishness" name="isNotBritishRadio"/>
                            <label for="isNotBritishRadio">Not British</label>
                        </div>
                        <div>
                            <input type="radio" value="british" ng-model="britishness" name="isBritishRadio"/>
                            <label for="isBritishRadio">Very British</label>
                        </div>
                        <img ng-show="britishness=='british'" width="40%" src="assets/isBritish.gif" />
                        <img ng-show="britishness=='notBritish'" width="40%" src="assets/isNotBritish.gif" />
                    </div>
                </section>

                <section>
                    <div ng-controller="presentationBindingCtrl">
                        <input type="checkbox" ng-model="hasError" name="isErrorRadio" />
                        <label for="isErrorRadio">Has Error</label>
                        <div ng-style="{'font-style': hasError ? 'italic' : ''}">Some status message</div>
                    </div>

                    <pre class="fragment"><code class="silverlight" contenteditable ng-non-bindable>&lt;CheckBox IsChecked=&quot;{Binding HasError, Mode=TwoWay}&quot;&gt;Has Error&lt;/CheckBox&gt;
&lt;TextBlock Text=&quot;Some status message&quot; FontStyle=&quot;{Binding HasError, Converter={StaticResource FontStyleConverter}}&quot; /&gt;
</code></pre>
                    <pre class="fragment"><code class='angular' ng-non-bindable contenteditable>&lt;input type=&quot;checkbox&quot; ng-model=&quot;hasError&quot; name=&quot;isErrorRadio&quot; /&gt;
&lt;label for=&quot;isErrorRadio&quot;&gt;Has Error&lt;/label&gt;
&lt;div ng-style=&quot;{&#39;font-style&#39;: hasError ? &#39;italic&#39; : &#39;normal&#39;}&quot;&gt;Some status message&lt;/div&gt;</code></pre>


                    <aside class="notes">
                        <ul>
                            <li>Change font style based on boolean</li>
                            <li>Value converter to convert a bool to a font style</li>
                            <li>FRAGMENT: ngStyle allows us to conditionally apply styles</li>
                            <li>Moves the presentation stuff into the presentation layer and out of code-behind</li>
                            <li>Generally should use ngClass instead of ngStyle to put all styling in CSS files</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <div ng-controller="presentationBindingCtrl">
                        <input type="checkbox" ng-model="hasError" name="isErrorRadio" />
                        <label for="isErrorRadio">Has Error</label>
                        <div ng-class="{ 'status-error-noquirk': hasError, 'status-ok': !hasError }">Totally different status message</div>
                    </div>
                    <pre class="fragment"><code class="silverlight" ng-non-bindable contenteditable>&lt;VisualStateManager.VisualStateGroups&gt;
  &lt;VisualStateGroup x:Name=&quot;CommonStates&quot;&gt;
    &lt;VisualState x:Name=&quot;Error&quot;&gt;
      &lt;Storyboard&gt;
        &lt;ColorAnimation To=&quot;{StaticResource ErrorColor}&quot; Duration=&quot;0:00:00&quot; Storyboard.TargetName=&quot;MessageTextBlock&quot; Storyboard.TargetProperty=&quot;(TextBlock.Foreground).(SolidColorBrush.Color)&quot; /&gt;
      &lt;/Storyboard&gt;
    &lt;/VisualState&gt;
    &lt;VisualState x:Name=&quot;Normal&quot;&gt;
      &lt;Storyboard&gt;
        &lt;ColorAnimation To=&quot;{StaticResource OkColor}&quot; Duration=&quot;0:00:00&quot; Storyboard.TargetName=&quot;MessageTextBlock&quot; Storyboard.TargetProperty=&quot;(TextBlock.Foreground).(SolidColorBrush.Color)&quot; /&gt;
      &lt;/Storyboard&gt;
    &lt;/VisualState&gt;
  &lt;/VisualStateGroup&gt;
&lt;/VisualStateManager.VisualStateGroups&gt;</code></pre>

                    <pre class="fragment"><code class="cs silverlight" ng-non-bindable contenteditable>VisualStateManager.GoToState( this, &quot;Error&quot;, true );</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>In fact, VisualStateManager more likely for real world XAML apps</li>
                            <li>Might define some colors somewhere in our theme</li>
                            <li>Then define some visual states that manipulate various values</li>
                            <li>FRAGMENT: Use codebehind to initiate state transitions based on data changes</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <div ng-controller="presentationBindingCtrl">
                        <input type="checkbox" ng-model="hasError" name="isErrorRadio" />
                        <label for="isErrorRadio">Has Error</label>
                        <div ng-class="{ 'status-error': hasError, 'status-ok': !hasError }">Totally different status message</div>
                    </div>

                    <pre><code class="css angular" contenteditable ng-non-bindable>.status-ok {
  color: green; }
.status-error {
  color: red; }</code></pre>
                    <pre class="fragment"><code ng-non-bindable class='angular' contenteditable>&lt;div ng-class=&quot;{ 'status-error': hasError, 'status-ok': !hasError }&quot;&gt;
  Totally different status message
&lt;/div&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>ngClass nicely separates the view structure and the view model from the styling</li>
                            <li>Similar to ngStyle with conditions for each class we apply</li>
                            <li>ngClass allows easier composite style changes</li>
                            <li>
                                We could add:
                                <textarea rows="12" cols="60">
;
-webkit-transform: rotate(-45deg);
                                </textarea>
                            </li>
                            <li>FRAGMENT: Tada! DEMO</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/Controls.jpg">
                    <h1>Controls</h1>

                    <aside class="notes">
                        <ul>
                            <li>Controls encapsulate useful functionality into single components</li>
                            <li>Silverlight provides Controls and derivations for this</li>
                            <li>Angular extends HTML using directives</li>
                            <li>ngRepeat, ngClass, ngStyle, ngShow, ngController etc are all directives</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code ng-non-bindable class='silverlight' data-trim contenteditable>
&lt;Style TargetType=&quot;myApp:StatusMessage&quot;&gt;
  &lt;Setter Property=&quot;Template&quot;&gt;
    &lt;Setter.Value&gt;
      &lt;ControlTemplate TargetType=&quot;myApp:StatusMessage&quot;&gt;
        &lt;TextBlock Text=&quot;Our status message&quot;/&gt;
      &lt;/ControlTemplate&gt;
    &lt;/Setter.Value&gt;
  &lt;/Setter&gt;
&lt;/Style&gt;
</code></pre>
                    <pre><code ng-non-bindable class="cs silverlight" contenteditable>public class StatusMessage : Control
{
  public StatusMessage()
  {
    this.DefaultStyleKey = typeof(StatusMessage);
  }
}</code></pre>
                    <pre class="fragment"><code ng-non-bindable contenteditable class="javascript angular">module(&#39;myApp&#39;).directive(&#39;statusMessage&#39;, function() {
  return {
    template: &#39;&lt;div&gt;Our status message&lt;/div&gt;&#39;,
    restrict: &#39;E&#39;
  };
});</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>Here is a very simple control.</li>
                            <li>Shows a string.</li>
                            <li>FRAGMENT: here's Angular equivalent</li>
                            <li>Template gives structure (like generic.xaml default style)</li>
                            <li>Can use templateUrl instead to indicate external source for template</li>
                            <li>
                                Restrict indicates how the directive is used
                                <div>Options are EACM (Element/Attribute/Class/Comment).</div>
                                <ul>
                                    <li>E when wanting a new control</li>
                                    <li>A when attaching new behavior to a specific element</li>
                                    <li>C when extending an existing class with new behavior</li>
                                    <li>Don't use M - it exists for legacy reasons</li>
                                </ul>
                                Tend to use A as supportd in most browsers
                            </li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code ng-non-bindable class="silverlight" contenteditable>&lt;myApp:StatusMessage /&gt;</code></pre>
                    <pre class="fragment" ng-non-bindable><code class='angular' contenteditable>&lt;status-message /&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Here's usage for Silverlight</li>
                            <li>FRAGMENT: Angular usage is very similar</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <h2>Dependency Properties</h2>

                    <pre><code ng-non-bindable class='silverlight' contenteditable>&lt;ControlTemplate TargetType=&quot;myApp:StatusMessage&quot;&gt;
  &lt;TextBlock Text=&quot;{TemplateBinding Message}&quot; /&gt;
&lt;/ControlTemplate&gt;</code></pre>

                    <pre><code ng-non-bindable class="cs silverlight" contenteditable>public static readonly DependencyProperty MessageProperty =
  DependencyProperty.Register( &quot;Message&quot;,
                 typeof ( string ),
                 typeof ( StatusMessage ),
                 new PropertyMetadata( default( string ) ) );
public string Message
{
  get { return (string) GetValue( MessageProperty ); }
  set { SetValue( MessageProperty, value ); }
}</code></pre>
                    <pre ng-non-bindable class="fragment"><code class="javascript angular" contenteditable>codemash2014.directive(&#39;statusMessage&#39;, function() {
  return {
    template: &#39;&lt;div&gt;{{message}}&lt;/div&gt;&#39;,
    restrict: &#39;E&#39;,
    scope: { message: &#39;@&#39; }
  };
});</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>We can make more useful by passing data to the template</li>
                            <li>For this, we need dependency property</li>
                            <li>FRAGMENT: Angular similar but we specifiy a scope model</li>
                            <li>Scope has a lot more nuance that I am not touching on</li>
                            <li>Attend Brian Genisio's talk on Directives Demystified tomorrow</li>
                            <li>In this example, @ means bind the string of the attribute "message" to scope.message</li>
                            <li>Can use = for object binding (allowing two-way binding) or & for passing callback functions</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre><code class='silverlight' ng-non-bindable contenteditable>&lt;myApp:StatusMessage Message=&quot;Now THIS is a status message. Exciting!&quot; /&gt;</code></pre>
                    <pre class="fragment"><code class="angular" ng-non-bindable contenteditable>&lt;status-message message=&quot;Now THIS is a status message. Exciting!&quot; /&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Again, usage is simple</li>
                            <li>FRAGMENT: Angular looks almost the same as Silverlight</li>
                            <li>This example is too simple</li>
                            <li>The power of directives is in encapsulating complexity</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre ng-non-bindable><code class="angular javascript" data-trim contenteditable>
codemash2014.directive(&#39;labelledCombo&#39;, function() {
        return {
            template: &#39;&lt;div&gt;&lt;div class=&quot;label&quot;&gt;{{title}}&lt;/div&gt;&lt;select ng-model=&quot;selectedItem&quot; ng-options=&quot;item for item in items&quot;&gt;&lt;/select&gt;&lt;/div&gt;&#39;,
            restrict: &#39;E&#39;,
            replace: true,
            scope: {
                selectedItem: &#39;=&#39;,
                items: &#39;=&#39;,
                title: &#39;@&#39;
            }
        };
    });
</code></pre>

                    <pre ng-non-bindable class="fragment"><code class="angular" contenteditable>&lt;labelled-combo title=&quot;Adjective 1:&quot; items=&quot;firstAdjectives&quot; selected-item=&quot;firstAdjective&quot;&gt;&lt;/labelled-combo&gt;</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>The whole Silverlight generator is a single user control</li>
                            <li>However, when writing the angular one, I saw another control; LabelledCombo</li>
                            <li>A label and a combodropdown combined</li>
                            <li>Here is what that looks like.</li>
                            <li>FRAGMENT: Usage</li>
                            <li>We'll see what that looks like in a minute</li>
                            <li>Replace tells angular to replace marked element with template</li>
                        </ul>
                    </aside>
                </section>
            </section>

            <section>
                <section data-background="assets/puttingitalltogether.jpg">
                    <h1>Putting It Together</h1>

                    <aside class="notes">
                        <ul>
                            <li>We've covered almost all the bits we need to create our Angular insult generator</li>
                            <li>Let's put these concepts together and see what it looks like</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <object class="silverlight" data="data:application/x-silverlight-2," height="480px" width="90%" type="application/x-silverlight-2">
                        <param name="source" value="assets/ShakespeareanInsultGenerator.xap" />
                    </object>
                </section>

                <section>
                    <insult-generator title="Shakespearean Insult Generator" />

                    <aside class="notes">
                        <p>
                            We've looked at some of the more common elements of Silverlight and other XAML-based frameworks and seen how we might achieve the same thing using
                            AngularJS, HTML and CSS. So, let's return to our Silverlight app I showed at the start and see that in AngularJS using the concepts we've learned.
                        </p>
                    </aside>
                </section>

                <section>
                    <pre ng-non-bindable><code class="silverlight" data-trim>
&lt;UserControl x:Class=&quot;ShakespeareanInsultGenerator.MainPage&quot;
    xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
    xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
    xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;
    xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;
    xmlns:local=&quot;clr-namespace:ShakespeareanInsultGenerator&quot;
    mc:Ignorable=&quot;d&quot;
    FontSize=&quot;36&quot;
    FontFamily=&quot;Arial&quot;
    d:DesignHeight=&quot;150&quot; d:DesignWidth=&quot;400&quot;&gt;

    &lt;UserControl.Resources&gt;
        &lt;Style TargetType=&quot;TextBlock&quot;&gt;
            &lt;Setter Property=&quot;Foreground&quot; Value=&quot;#EEEEEE&quot; /&gt;
            &lt;Setter Property=&quot;VerticalAlignment&quot; Value=&quot;Center&quot;/&gt;
            &lt;Setter Property=&quot;TextAlignment&quot; Value=&quot;Right&quot; /&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot; /&gt;
            &lt;Setter Property=&quot;FontFamily&quot; Value=&quot;Lato&quot;/&gt;
            &lt;Setter Property=&quot;FontStyle&quot; Value=&quot;Italic&quot; /&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;ComboBox&quot;&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;Button&quot;&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
            &lt;Setter Property=&quot;VerticalAlignment&quot; Value=&quot;Top&quot;/&gt;
            &lt;Setter Property=&quot;FontWeight&quot; Value=&quot;Bold&quot;/&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;RichTextBox&quot;&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
            &lt;Setter Property=&quot;IsReadOnly&quot; Value=&quot;True&quot;/&gt;
            &lt;Setter Property=&quot;TextAlignment&quot; Value=&quot;Left&quot;/&gt;
            &lt;Setter Property=&quot;FontWeight&quot; Value=&quot;Bold&quot;/&gt;
            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;54&quot;/&gt;
            &lt;Setter Property=&quot;FontFamily&quot; Value=&quot;Courier New&quot; /&gt;
        &lt;/Style&gt;

        &lt;Style TargetType=&quot;TextBlock&quot; x:Key=&quot;HeaderStyle&quot;&gt;
            &lt;Setter Property=&quot;Foreground&quot; Value=&quot;#EEEEEE&quot; /&gt;
            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;60&quot;/&gt;
            &lt;Setter Property=&quot;Margin&quot; Value=&quot;3&quot;/&gt;
            &lt;Setter Property=&quot;FontFamily&quot; Value=&quot;Impact&quot;/&gt;
            &lt;Setter Property=&quot;TextAlignment&quot; Value=&quot;Center&quot;/&gt;
        &lt;/Style&gt;

        &lt;local:InsultModel x:Key=&quot;Model&quot; /&gt;
    &lt;/UserControl.Resources&gt;

    &lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;#203030&quot; DataContext=&quot;{Binding Source={StaticResource Model}}&quot;&gt;
        &lt;Grid.ColumnDefinitions&gt;
            &lt;ColumnDefinition Width=&quot;Auto&quot; /&gt;
            &lt;ColumnDefinition /&gt;
        &lt;/Grid.ColumnDefinitions&gt;

        &lt;Grid.RowDefinitions&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition Height=&quot;Auto&quot; /&gt;
            &lt;RowDefinition /&gt;
        &lt;/Grid.RowDefinitions&gt;

        &lt;TextBlock Style=&quot;{StaticResource HeaderStyle}&quot; Grid.Column=&quot;0&quot; Grid.ColumnSpan=&quot;2&quot; Grid.Row=&quot;0&quot;&gt;SHAKESPEAREAN INSULT GENERATOR&lt;/TextBlock&gt;

        &lt;TextBlock Text=&quot;Adjective 1:&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;1&quot; /&gt;
        &lt;ComboBox Grid.Column=&quot;1&quot; Grid.Row=&quot;1&quot; ItemsSource=&quot;{Binding FirstAdjectiveList}&quot; SelectedValue=&quot;{Binding FirstAdjective, Mode=TwoWay}&quot; /&gt;

        &lt;TextBlock Text=&quot;Adjective 2:&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;2&quot; /&gt;
        &lt;ComboBox Grid.Column=&quot;1&quot; Grid.Row=&quot;2&quot; ItemsSource=&quot;{Binding SecondAdjectiveList}&quot; SelectedValue=&quot;{Binding SecondAdjective, Mode=TwoWay}&quot; /&gt;

        &lt;TextBlock Text=&quot;Noun:&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;3&quot; /&gt;
        &lt;ComboBox Grid.Column=&quot;1&quot; Grid.Row=&quot;3&quot; ItemsSource=&quot;{Binding NounList}&quot; SelectedValue=&quot;{Binding Noun, Mode=TwoWay}&quot; /&gt;

        &lt;Button Grid.Column=&quot;0&quot; Grid.Row=&quot;4&quot; Content=&quot;Randomize&quot; Click=&quot;OnClickRandomize&quot; /&gt;
        &lt;RichTextBox  Grid.Column=&quot;1&quot; Grid.Row=&quot;4&quot;&gt;
            &lt;RichTextBox.Blocks&gt;
                &lt;Paragraph&gt;
                    &lt;Span&gt;
                        &lt;Run Text=&quot;Thou&quot; /&gt;
                        &lt;Run Text=&quot;{Binding FirstAdjective}&quot; /&gt;
                        &lt;Run Text=&quot;{Binding SecondAdjective}&quot; /&gt;
                        &lt;Run Text=&quot;{Binding Noun, StringFormat=&#39;{0}!&#39;}&quot; /&gt;
                    &lt;/Span&gt;
                &lt;/Paragraph&gt;
            &lt;/RichTextBox.Blocks&gt;
        &lt;/RichTextBox&gt;
    &lt;/Grid&gt;
&lt;/UserControl&gt;

</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>UserControl using a grid</li>
                            <li>TextBlock/ComboBox could be combined into a user control, but I didn't</li>
                            <li>Button for randomizing</li>
                            <li>RichTextBox to render insult for copying.</li>
                            <li>Grid is databound to model, which is declared in the app as a static resource</li>
                            <li>Skipped styles here and we'll skip the CSS definitions too</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre ng-non-bindable><code class="angular javascript" data-trim contenteditable>
codemash2014.directive(&#39;insultGenerator&#39;, function() {
    return {
        controller: &#39;insultGeneratorCtrl&#39;,
        replace: true,
        template:
            &#39;&lt;div class=&quot;insult-generator&quot;&gt;&#39;
            + &#39;&lt;h2&gt;{{title | uppercase}}&lt;/h2&gt;&#39;
            + &#39;&lt;labelled-combo title=&quot;Adjective 1:&quot; items=&quot;firstAdjectives&quot; selected-item=&quot;firstAdjective&quot;&gt;&lt;/labelled-combo&gt;&#39;
            + &#39;&lt;labelled-combo title=&quot;Adjective 2:&quot; items=&quot;secondAdjectives&quot; selected-item=&quot;secondAdjective&quot;&gt;&lt;/labelled-combo&gt;&#39;
            + &#39;&lt;labelled-combo title=&quot;Noun:&quot; items=&quot;nouns&quot; selected-item=&quot;noun&quot;&gt;&lt;/labelled-combo&gt;&#39;
            + &#39;&lt;div&gt;&#39;
                + &#39;&lt;button ng-click=&quot;randomize()&quot;&gt;Randomize&lt;/button&gt;&#39;
                + &#39;&lt;div class=&quot;insult-container&quot;&gt;&lt;textarea class=&quot;insult&quot; readonly rows=&quot;2&quot;&gt;Thou {{firstAdjective}} {{secondAdjective}} {{noun}}!&lt;/textarea&gt;&lt;/div&gt;&#39;
            + &#39;&lt;/div&gt;&#39;
            + &#39;&lt;/div&gt;&#39;,
        restrict: &#39;E&#39;,
        scope: { title: &#39;@&#39; }
    };
});
</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Repeat the directive we saw earlier for each dropdown</li>
                            <li>Last row is our randomize button and our output</li>
                            <li>Note ng-click here, which we use to bind the button to method on controller</li>
                            <li>CSS styles should have distintive names to avoid clashing with styles that others might use</li>
                            <li>CSS is global namespace so recommend very specific names</li>
                            <li>controller specifies the name of the controller to use for this directive</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre ng-non-bindable><code class="silverlight cs" data-trim>
public partial class MainPage : UserControl
{
    public MainPage()
    {
        InitializeComponent();
    }
    private void OnClickRandomize( object sender, RoutedEventArgs e )
    {
        ((InsultModel)Resources[&quot;Model&quot;]).Randomize();
    }
}
</code></pre>
                </section>

                <section>
                    <pre ng-non-bindable><code class="silverlight cs" data-trim>
public class InsultModel : INotifyPropertyChanged
{
    public InsultModel()
    {
        _firstAdjectiveList = Words.Adjectives.ToList().AsReadOnly();
        _secondAdjectiveList = Words.HyphenatedAdjectives.ToList().AsReadOnly();
        _nounList = Words.Nouns.ToList().AsReadOnly();
        Randomize();
    }
    public void Randomize()
    {
        FirstAdjective = _firstAdjectiveList.Random();
        SecondAdjective = _secondAdjectiveList.Random();
        Noun = _nounList.Random();
    }
    public string FirstAdjective
    {
        get { return _firstAdjective; }
        set
        {
            if ( _firstAdjective != value )
            {
                _firstAdjective = value;
                OnPropertyChanged( &quot;FirstAdjective&quot; );
            }
        }
    }
    public string SecondAdjective
    {
        get { return _secondAdjective; }
        set
        {
            if ( _secondAdjective != value )
            {
                _secondAdjective = value;
                OnPropertyChanged( &quot;SecondAdjective&quot; );
            }
        }
    }
    
    public string Noun
    {
        get { return _noun; }
        set
        {
            if ( _noun != value )
            {
                _noun = value;
                OnPropertyChanged( &quot;Noun&quot; );
            }
        }
    }
    public IEnumerable&lt;string&gt; FirstAdjectiveList { get { return _firstAdjectiveList; } }
    public IEnumerable&lt;string&gt; SecondAdjectiveList { get { return _secondAdjectiveList; } }
    public IEnumerable&lt;string&gt; NounList { get { return _nounList; } }
    public event PropertyChangedEventHandler PropertyChanged;
    protected virtual void OnPropertyChanged( string propertyName )
    {
        PropertyChangedEventHandler handler = PropertyChanged;
        if ( handler != null ) { handler( this, new PropertyChangedEventArgs( propertyName ) ); }
    }
    private string _firstAdjective;
    private string _secondAdjective;
    private string _noun;
    private readonly IEnumerable&lt;string&gt; _firstAdjectiveList;
    private readonly IEnumerable&lt;string&gt; _secondAdjectiveList;
    private readonly IEnumerable&lt;string&gt; _nounList;
}
</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>In the code-behind we have a button handler that delegates to the model</li>
                            <li>The model does all the work</li>
                            <li>A Words class contains the lists of words (nothing special to see)</li>
                            <li>That's it</li>
                        </ul>
                    </aside>
                </section>

                <section>
                    <pre ng-non-bindable><code class="angular javascript" data-trim contenteditable>
codemash2014.controller(&#39;insultGeneratorCtrl&#39;, function($scope, insultWords) {
    $scope.firstAdjectives = insultWords.firstAdjectives;
    $scope.secondAdjectives = insultWords.secondAdjectives;
    $scope.nouns = insultWords.nouns;
    $scope.randomize = function() {
        $scope.firstAdjective = getRandomElement($scope.firstAdjectives);
        $scope.secondAdjective = getRandomElement($scope.secondAdjectives);
        $scope.noun = getRandomElement($scope.nouns);
    };
    function getRandomIndex(limit) {
        return Math.round(limit * Math.random() + 0.5);
    }
    function getRandomElement(array) {
        var index = getRandomIndex(array.length - 1);
        return array[index];
    }
    $scope.randomize();
});
</code></pre>

                    <aside class="notes">
                        <ul>
                            <li>Our code-behind</li>
                            <li>declared controller</li>
                            <li>Injecting something called insultWords</li>
                            <li>An object defined using angular.value that just provides arrays of words</li>
                            <li>See how randomize funtion is defined on scope for binding to button</li>
                            <li>Other functions are private to the controller</li>
                        </ul>
                    </aside>
                </section>
                
                <section>
                    <pre ng-non-bindable><code class="angular javascript" data-trim contenteditable>
codemash2014.value(&#39;insultWords&#39;, {
    firstAdjectives: [
        &quot;artless&quot;,
        &quot;bawdy&quot;,
        ...],
    secondAdjectives: [
        &quot;base-court&quot;,
        &quot;bat-fowling&quot;,
        ...],
    nouns: [
        &quot;apple-john&quot;,
        &quot;baggage&quot;,
        ...]
});
</code></pre>
                    <aside class="notes">
                        <ul>
                            <li>value is a provider</li>
                            <li>Provides the object we pass to value</li>
                            <li>Other providers include service,factory,controller and directive</li>
                            <li>Putting this altogether we get...</li>
                        </ul>
                    </aside>
                </section>
                
                <section>
                    <pre><code class="angular" ng-non-bindable contenteditable data-trim>
&lt;insult-generator title=&#39;Shakespearean Insult Generator&#39; /&gt;
</code></pre>
                </section>
            </section>

            <section>
                <section>
                    <div class="fragment questions-link" data-fragment-index="0">
                        <div class="link-label">AngularJS&nbsp;/</div>
                        <a href="http://angularjs.org">angularjs.org</a>
                    </div>
                    <div class="fragment questions-link" data-fragment-index="0">
                        <div class="link-label"></div>
                        <a href="http://egghead.io">egghead.io</a>
                    </div>
                    <div class="fragment questions-link" data-fragment-index="0">
                        <div class="link-label"></div>
                        <a href="http://sidewaffle.com/">sidewaffle.com</a>
                    </div>
                    <div class="fragment questions-link" data-fragment-index="0">
                        <div class="link-label"></div>
                        <a href="http://bit.ly/batarang-extension">bit.ly/batarang-extension</a>
                    </div>
                    <h1 class="padtop hideonvisible fragment fade-out" data-fragment-index="7">Resources</h1>
                    <h1 class="padtop highlight hideoninvisible fragment" data-fragment-index="7">Questions</h1>

                    <div class="fragment questions-link" data-fragment-index="1">
                        <div class="link-label">Presentation&nbsp;/</div>
                        <a href="http://somewhatabstract.github.io/AngularForXaml/#/">somewhatabstract.github.io/AngularForXaml</a>
                    </div>
                    <div class="fragment questions-link" data-fragment-index="1">
                        <div class="link-label"></div>
                        <a href="https://github.com/somewhatabstract/AngularForXaml">github.com/somewhatabstract/AngularForXaml</a>
                    </div>
                    <div class="fragment questions-link" data-fragment-index="2">
                        <div class="link-label">Me&nbsp;/</div>
                        <a href="http://blog.somewhatabstract.com">blog.somewhatabstract.com</a>
                    </div>
                    <div class="fragment questions-link" data-fragment-index="2">
                        <div class="link-label"></div>
                        <a href="http://twitter.com/jefftunes">@jefftunes</a>
                    </div>

                    <aside class="notes">
                        <ul>
                            <li>Slides on github at this location</li>
                            <li>FRAGMENT: AngularJS</li>
                            <li>Egghead.io</li>
                            <li>Side Waffle</li>
                            <li>Batarang</li>
                            <li>FRAGMENT: Presentation resources</li>
                            <li>FRAGMENT: Me</li>
                        </ul>
                        <p>Good reasons to use a framework like Angular over Silverlight</p>
                        <ul>
                            <li>No need for HTML bridge as we're already in HTML</li>
                            <li>Cross-platform support, not just PC and Mac (and WP7, if you compile specifically for that platform)</li>
                            <li>No plugin required - just use JavaScript</li>
                            <li>Well supported and in active development</li>
                            <li>Presentation in presentation layer, not code-behind</li>
                        </ul>
                    </aside>
                </section>
            </section>
        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/presentation.js"></script>
    <script>

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: false,
            progress: true,
            history: true,
            center: true,
            width: 1280,
            height: 768,
            backgroundTransition: "slide",

            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

            // Optional libraries used to extend on reveal.js
            dependencies: [
           { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
           { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
           { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector('[data-markdown]'); } },
           { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
           { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
           { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
            ]
        });

    </script>
</body>
</html>
